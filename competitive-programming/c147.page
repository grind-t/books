<div id="pf93" class="pf w2 h6" data-page-no="93"><div class="pc pc93 w2 h6"><img class="bi x0 y0 w1 h1" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA3AAAAU1CAIAAADdzbFlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAVfklEQVR42u3ZYU0DQRSFUS5ZBSjAQisCTUhABzIQ0TogOHn8QcC2fRNmsucImLCXbOZLN1X1BAAA93o2AQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAGBBmwke9Pr+ZQQAWNHPx5sRWviFEgCAh6SqrAAAwN38QgkAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAADfYTABAryRGYH5VZQRBCcCBruokS5y50J/q8b2njXzyBgBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAAD7pKqsAEDn1ZIYgflJIEEJAMAsfPIGAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAAghIAAAQlAACCEgCABW0mAKBXEiMwv6oygqAE4EBXdZIlzlzoT/X43tNGPnkDACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAgH1SVVYAoPNqSYzA/CSQoAQAYBY+eQMAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAMA/2kwAQK8kRmB+VWUEQQnAga7qJJfrtffM8+nUfuagYwedOaKokoz4748403vayCdvAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAALBPqsoKAHReLYkRmJ8EEpQAAMzCJ28AAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQBY0GYCAHolMQLzqyojCEoADnRVJ7lcr71nnk+nEUmRZMTjLzHpoFUHPb73tJFP3gAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBgn1SVFQDovFoSIzA/CSQoAQCYhU/eAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAICgNAEAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAEFpAgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAAgtIEAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAAHCIo8+fz+yVJYhIAAG7xC76mpPS0KWLIAAAAAElFTkSuQmCC"/><div class="t m0 xac h41 y18c ff5e fsc fc2 sc0 ls13 ws2">9.2<span class="_ _29"> </span>T<span class="_ _0"></span>ree<span class="_ _2d"> </span>Struc<span class="_ _5"></span>tures<span class="_ _82"> </span>137</div><div class="t m0 xac h12 y387 ff54 fsc fc4 sc0 ls10 ws2">Fig<span class="_ _0"></span>.<span class="_ _36"> </span>9.17<span class="_ _f"> </span><span class="ff5c fc2 ls6">An<span class="_ _d"> </span>array<span class="_ _d"> </span>and<span class="_ _6"> </span>its</span></div><div class="t m0 xac h18 y388 ff5c fsc fc2 sc0 ls6 ws2">difference<span class="_ _15"> </span>array</div><div class="t m0 xb4 h27 y13fe ff60 fs13 fc2 sc0 ls59 ws2">33</div><div class="t m0 x104 h27 y13ff ff60 fs13 fc2 sc0 ls54 ws2">111</div><div class="t m0 x106 h27 y1400 ff60 fs13 fc2 sc0 ls6 ws2">5</div><div class="t m0 x107 h27 y13ff ff60 fs13 fc2 sc0 ls59 ws2">22</div><div class="t m0 xb4 h27 y1401 ff60 fs13 fc2 sc0 ls6 ws2">0</div><div class="t m0 x3e h27 y1402 ff60 fs13 fc2 sc0 ls54 ws2">12</div><div class="t m0 x105 h27 y1401 ff60 fs13 fc2 sc0 ls6 ws2">3</div><div class="t m0 x12d h27 y1402 ff60 fs13 fc2 sc0 ls6 ws2">4</div><div class="t m0 x106 h27 y1403 ff60 fs13 fc2 sc0 ls59 ws2">56</div><div class="t m0 x108 h27 y1404 ff60 fs13 fc2 sc0 ls6 ws2">7</div><div class="t m0 xf5 h27 y1405 ff60 fs13 fc2 sc0 ls6 ws2">original<span class="_ _d"> </span>array</div><div class="t m0 xb4 h27 y1406 ff60 fs13 fc2 sc0 ls59 ws2">30</div><div class="t m0 xc0 h27 y1407 ff64 fs13 fc2 sc0 ls6 ws2">−<span class="ff60">2</span></div><div class="t m0 x105 h27 y1406 ff60 fs13 fc2 sc0 ls54 ws2">00</div><div class="t m0 x106 h27 y1408 ff60 fs13 fc2 sc0 ls6 ws2">4</div><div class="t m0 x5e h27 y1407 ff64 fs13 fc2 sc0 ls6 ws2">−<span class="ff60">3</span></div><div class="t m0 x108 h27 y1406 ff60 fs13 fc2 sc0 ls6 ws2">0</div><div class="t m0 xb4 h27 y1409 ff60 fs13 fc2 sc0 ls6 ws2">0</div><div class="t m0 x3e h27 y140a ff60 fs13 fc2 sc0 ls54 ws2">12</div><div class="t m0 x105 h27 y1409 ff60 fs13 fc2 sc0 ls6 ws2">3</div><div class="t m0 x12d h27 y140a ff60 fs13 fc2 sc0 ls6 ws2">4</div><div class="t m0 x106 h27 y140b ff60 fs13 fc2 sc0 ls59 ws2">56</div><div class="t m0 x108 h27 y140c ff60 fs13 fc2 sc0 ls6 ws2">7</div><div class="t m0 xa9 h27 y140d ff60 fs13 fc2 sc0 ls6 ws2">difference<span class="_ _15"> </span>array</div><div class="t m0 xac h12 y140e ff54 fsc fc4 sc0 ls10 ws2">Fig<span class="_ _0"></span>.<span class="_ _36"> </span>9.18<span class="_ _f"> </span><span class="ff5c fc2">Updating<span class="_ _d"> </span>an<span class="_ _d"> </span>array</span></div><div class="t m0 xac h18 y140f ff5c fsc fc2 sc0 ls11 ws2">range<span class="_ _d"> </span>using<span class="_ _6"> </span>the<span class="_ _d"> </span>difference</div><div class="t m0 xac h18 y1410 ff5c fsc fc2 sc0 ls10 ws2">array</div><div class="t m0 xb4 h27 y1411 ff60 fs13 fc2 sc0 ls6 ws2">3</div><div class="t m0 x3e h27 y1412 ff60 fs13 fc2 sc0 ls6 ws2">6</div><div class="t m0 x104 h27 y1413 ff60 fs13 fc2 sc0 ls54 ws2">444</div><div class="t m0 x106 h27 y1412 ff60 fs13 fc2 sc0 ls6 ws2">5</div><div class="t m0 x107 h27 y1413 ff60 fs13 fc2 sc0 ls59 ws2">22</div><div class="t m0 xb4 h27 y1414 ff60 fs13 fc2 sc0 ls6 ws2">0</div><div class="t m0 x3e h27 y1415 ff60 fs13 fc2 sc0 ls54 ws2">12</div><div class="t m0 x105 h27 y1414 ff60 fs13 fc2 sc0 ls6 ws2">3</div><div class="t m0 x12d h27 y1415 ff60 fs13 fc2 sc0 ls6 ws2">4</div><div class="t m0 x106 h27 y1416 ff60 fs13 fc2 sc0 ls59 ws2">56</div><div class="t m0 x108 h27 y1417 ff60 fs13 fc2 sc0 ls6 ws2">7</div><div class="t m0 xf5 h27 y1418 ff60 fs13 fc2 sc0 ls6 ws2">original<span class="_ _d"> </span>array</div><div class="t m0 xb4 h27 y1419 ff60 fs13 fc2 sc0 ls59 ws2">33</div><div class="t m0 xc0 h27 y141a ff64 fs13 fc2 sc0 ls6 ws2">−<span class="ff60">2</span></div><div class="t m0 x105 h27 y1419 ff60 fs13 fc2 sc0 ls54 ws2">00</div><div class="t m0 x106 h27 y141b ff60 fs13 fc2 sc0 ls6 ws2">1</div><div class="t m0 x5e h27 y141a ff64 fs13 fc2 sc0 ls6 ws2">−<span class="ff60">3</span></div><div class="t m0 x108 h27 y1419 ff60 fs13 fc2 sc0 ls6 ws2">0</div><div class="t m0 xb4 h27 y141c ff60 fs13 fc2 sc0 ls6 ws2">0</div><div class="t m0 x3e h27 y141d ff60 fs13 fc2 sc0 ls54 ws2">12</div><div class="t m0 x105 h27 y141c ff60 fs13 fc2 sc0 ls6 ws2">3</div><div class="t m0 x12d h27 y141d ff60 fs13 fc2 sc0 ls6 ws2">4</div><div class="t m0 x106 h27 y141e ff60 fs13 fc2 sc0 ls59 ws2">56</div><div class="t m0 x108 h27 y141f ff60 fs13 fc2 sc0 ls6 ws2">7</div><div class="t m0 xa9 h27 y1420 ff60 fs13 fc2 sc0 ls6 ws2">difference<span class="_ _d"> </span>array</div><div class="t m0 x35 h15 y1421 ff5c fs4 fc2 sc0 lsc ws2">After<span class="_ _6"> </span>index<span class="_ _6"> </span>compression,<span class="_ _4"> </span>we<span class="_ _6"> </span>can,<span class="_ _6"> </span>for<span class="_ _4"> </span>example,<span class="_ _6"> </span>build<span class="_ _6"> </span>a<span class="_ _6"> </span>segment<span class="_ _6"> </span>tree<span class="_ _4"> </span>for<span class="_ _6"> </span>the<span class="_ _6"> </span>com-</div><div class="t m0 xac h15 y1422 ff5c fs4 fc2 sc0 lsd ws2">pressed<span class="_ _6"> </span>array<span class="_ _4"> </span>and<span class="_ _6"> </span>perform<span class="_ _4"> </span>queries.<span class="_ _4"> </span>The<span class="_ _6"> </span>only<span class="_ _4"> </span>modiﬁcation<span class="_ _6"> </span>needed<span class="_ _4"> </span>is<span class="_ _6"> </span>that<span class="_ _4"> </span>we<span class="_ _4"> </span>hav<span class="_ _0"></span>e<span class="_ _6"> </span>to</div><div class="t m0 xac h15 y1423 ff5c fs4 fc2 sc0 lsc ws2">compress<span class="_ _6"> </span>the<span class="_ _6"> </span>indices<span class="_ _6"> </span>before<span class="_ _6"> </span>queries:<span class="_ _4"> </span>a<span class="_ _6"> </span>range<span class="_ _6"> </span><span class="ff5f ls6">[<span class="ff5d">a<span class="_ _5"></span><span class="ff56">,<span class="_ _15"> </span></span>b<span class="_ _5"></span></span>]<span class="_ _6"> </span></span><span class="lsd">in<span class="_ _6"> </span>the<span class="_ _6"> </span>original<span class="_ _6"> </span>array<span class="_ _4"> </span>corresponds</span></div><div class="t m0 xac h15 y1424 ff5c fs4 fc2 sc0 lsc ws2">to<span class="_ _6"> </span>the<span class="_ _4"> </span>range<span class="_ _6"> </span><span class="ff5f ls6">[<span class="ff5d">c<span class="_ _5"></span><span class="ff56">(</span>a<span class="_ _5"></span><span class="ff56 ls17">),<span class="_ _15"> </span></span>c<span class="_ _5"></span><span class="ff56">(</span>b<span class="ff56">)</span></span>]<span class="_ _4"> </span></span><span class="lsd">in<span class="_ _4"> </span>the<span class="_ _6"> </span>compressed<span class="_ _4"> </span>array<span class="_ _16"></span>.</span></div><div class="t m0 xac h8 y1425 ff21 fs4 fc2 sc0 lse ws2">Range<span class="_ _b"> </span>Updates<span class="_ _13"> </span><span class="ff5c lsc">So<span class="_ _b"> </span>far<span class="_ _0"></span>,<span class="_ _b"> </span>we<span class="_ _b"> </span>hav<span class="_ _0"></span>e<span class="_ _b"> </span>implemented<span class="_ _13"> </span>data<span class="_ _b"> </span>structures<span class="_ _b"> </span>that<span class="_ _13"> </span>support<span class="_ _b"> </span>range</span></div><div class="t m0 xac h15 y1426 ff5c fs4 fc2 sc0 lsc ws2">queries<span class="_ _b"> </span>and<span class="_ _b"> </span>updates<span class="_ _13"> </span>of<span class="_ _b"> </span>single<span class="_ _b"> </span>values.<span class="_ _b"> </span>Let<span class="_ _b"> </span>us<span class="_ _13"> </span>no<span class="_ _0"></span>w<span class="_ _b"> </span>consider<span class="_ _13"> </span>an<span class="_ _b"> </span>opposite<span class="_ _b"> </span>situation,</div><div class="t m0 xac h15 y1427 ff5c fs4 fc2 sc0 lsc ws2">where<span class="_ _6"> </span>we<span class="_ _d"> </span>should<span class="_ _6"> </span>update<span class="_ _6"> </span>ranges<span class="_ _6"> </span>and<span class="_ _d"> </span>retrieve<span class="_ _d"> </span>single<span class="_ _6"> </span>values.<span class="_ _d"> </span>W<span class="_ _16"></span>e<span class="_ _6"> </span>focus<span class="_ _d"> </span>on<span class="_ _6"> </span>an<span class="_ _6"> </span>operation</div><div class="t m0 xac h15 y1428 ff5c fs4 fc2 sc0 lsc ws2">that<span class="_ _6"> </span>increases<span class="_ _4"> </span>all<span class="_ _6"> </span>elements<span class="_ _4"> </span>in<span class="_ _4"> </span>a<span class="_ _6"> </span>range<span class="_ _4"> </span><span class="ff5f ls6">[<span class="ff5d">a<span class="_ _5"></span><span class="ff56">,<span class="_ _15"> </span></span>b<span class="_ _5"></span></span>]<span class="_ _6"> </span></span><span class="ls14">by<span class="_ _c"> </span><span class="ff5d ls6">x<span class="_ _2a"></span><span class="ff5c">.</span></span></span></div><div class="t m0 x35 h15 y1429 ff5c fs4 fc2 sc0 lsd ws2">It<span class="_ _d"> </span>turns<span class="_ _d"> </span>out<span class="_ _d"> </span>that<span class="_ _d"> </span>we<span class="_ _6"> </span>can<span class="_ _d"> </span>use<span class="_ _d"> </span>the<span class="_ _d"> </span>data<span class="_ _d"> </span>structures<span class="_ _d"> </span>presented<span class="_ _6"> </span>in<span class="_ _d"> </span>this<span class="_ _d"> </span>chapter<span class="_ _d"> </span>also<span class="_ _d"> </span>in<span class="_ _6"> </span>this</div><div class="t m0 xac h15 y142a ff5c fs4 fc2 sc0 lsd ws2">situation.<span class="_ _2d"> </span>T<span class="_ _16"></span>o<span class="_ _15"> </span>do<span class="_ _15"> </span>this,<span class="_ _15"> </span>we<span class="_ _15"> </span>build<span class="_ _2d"> </span>a<span class="_ _15"> </span><span class="ff5d lse">differ<span class="_ _0"></span>ence<span class="_ _2d"> </span>array<span class="_ _2d"> </span><span class="ff5c lsc">whose<span class="_ _15"> </span>values<span class="_ _2d"> </span>indicate<span class="_ _15"> </span>the<span class="_ _15"> </span>differences</span></span></div><div class="t m0 xac h15 y142b ff5c fs4 fc2 sc0 lsc ws2">between<span class="_ _d"> </span>consecutive<span class="_ _15"> </span>values<span class="_ _d"> </span>in<span class="_ _6"> </span>the<span class="_ _d"> </span>original<span class="_ _6"> </span>array<span class="_ _16"></span>.<span class="_ _d"> </span>The<span class="_ _6"> </span>original<span class="_ _d"> </span>array<span class="_ _6"> </span>is<span class="_ _d"> </span>the<span class="_ _6"> </span>preﬁx<span class="_ _d"> </span>sum</div><div class="t m0 xac h15 y142c ff5c fs4 fc2 sc0 lsc ws2">array<span class="_ _3"> </span>of<span class="_ _b"> </span>the<span class="_ _b"> </span>dif<span class="_ _0"></span>ference<span class="_ _b"> </span>array<span class="_ _16"></span>.<span class="_ _b"> </span>Figure<span class="_ _20"> </span><span class="fc3 lse">9.17<span class="_ _b"> </span></span><span class="lsd">sho<span class="_ _0"></span>ws<span class="_ _b"> </span>an<span class="_ _3"> </span>array<span class="_ _b"> </span>and<span class="_ _b"> </span>its<span class="_ _3"> </span>difference<span class="_ _3"> </span>array<span class="_ _16"></span>.</span></div><div class="t m0 xac h15 y142d ff5c fs4 fc2 sc0 lsd ws2">For<span class="_ _4"> </span>example,<span class="_ _4"> </span>the<span class="_ _c"> </span>v<span class="_ _0"></span>alue<span class="_ _c"> </span>2<span class="_ _4"> </span>at<span class="_ _c"> </span>position<span class="_ _4"> </span>6<span class="_ _c"> </span>in<span class="_ _4"> </span>the<span class="_ _c"> </span>original<span class="_ _4"> </span>array<span class="_ _c"> </span>corresponds<span class="_ _c"> </span>to<span class="_ _4"> </span>the<span class="_ _c"> </span>sum</div><div class="t m0 xac h15 y142e ff5c fs4 fc2 sc0 ls6 ws2">3<span class="_ _d"> </span><span class="ff5f">−<span class="_ _6"> </span></span>2<span class="_ _6"> </span><span class="ff5f">+<span class="_ _6"> </span></span>4<span class="_ _d"> </span><span class="ff5f">−<span class="_ _6"> </span></span>3<span class="_ _c"> </span><span class="ff5f">=<span class="_ _4"> </span></span><span class="lsc">2<span class="_ _6"> </span>in<span class="_ _4"> </span>the<span class="_ _6"> </span>difference<span class="_ _6"> </span>array<span class="_ _0"></span>.</span></div><div class="t m0 x35 h15 y142f ff5c fs4 fc2 sc0 lsc ws2">The<span class="_ _4"> </span>advantage<span class="_ _4"> </span>of<span class="_ _4"> </span>the<span class="_ _c"> </span>dif<span class="_ _0"></span>ference<span class="_ _4"> </span>array<span class="_ _4"> </span>is<span class="_ _c"> </span>that<span class="_ _4"> </span>we<span class="_ _4"> </span>can<span class="_ _c"> </span>update<span class="_ _4"> </span>a<span class="_ _4"> </span>range<span class="_ _c"> </span>in<span class="_ _4"> </span>the<span class="_ _4"> </span>origi-</div><div class="t m0 xac h15 y1430 ff5c fs4 fc2 sc0 lsd ws2">nal<span class="_ _c"> </span>array<span class="_ _4"> </span>by<span class="_ _c"> </span>changing<span class="_ _c"> </span>just<span class="_ _c"> </span>two<span class="_ _4"> </span>elements<span class="_ _c"> </span>in<span class="_ _c"> </span>the<span class="_ _4"> </span>difference<span class="_ _c"> </span>array<span class="_ _16"></span>.<span class="_ _c"> </span>More<span class="_ _4"> </span>precisely<span class="_ _0"></span>,<span class="_ _4"> </span>to</div><div class="t m0 xac h15 y1431 ff5c fs4 fc2 sc0 lsc ws2">increase<span class="_ _3"> </span>the<span class="_ _3"> </span>v<span class="_ _0"></span>alues<span class="_ _3"> </span>in<span class="_ _3"> </span>range<span class="_ _3"> </span><span class="ff5f ls6">[<span class="ff5d">a<span class="_ _5"></span><span class="ff56">,<span class="_ _15"> </span></span>b<span class="_"> </span></span>]<span class="_ _3"> </span></span><span class="ls14">by<span class="_ _b"> </span><span class="ff5d ls6">x<span class="_ _36"></span></span><span class="lsd">,<span class="_ _3"> </span>we<span class="_ _3"> </span>increase<span class="_ _3"> </span>the<span class="_ _3"> </span>value<span class="_ _c"> </span>at<span class="_ _3"> </span>position<span class="_ _3"> </span><span class="ff5d ls6">a<span class="_ _b"> </span></span></span>by<span class="_ _b"> </span><span class="ff5d ls6">x</span></span></div><div class="t m0 xac h15 y1432 ff5c fs4 fc2 sc0 lsc ws2">and<span class="_ _4"> </span>decrease<span class="_ _4"> </span>the<span class="_ _4"> </span>v<span class="_ _0"></span>alue<span class="_ _4"> </span>at<span class="_ _4"> </span>position<span class="_ _4"> </span><span class="ff5d ls6">b<span class="_ _6"> </span><span class="ff5f">+<span class="_ _6"> </span></span></span><span class="lsce">1b<span class="_ _31"></span>y<span class="_ _5"></span><span class="ff5d ls6">x<span class="_ _36"></span></span><span class="lsc">.<span class="_ _4"> </span>For<span class="_ _6"> </span>example,<span class="_ _4"> </span>to<span class="_ _4"> </span>increase<span class="_ _4"> </span>the<span class="_ _4"> </span>original</span></span></div><div class="t m0 xac h15 y1433 ff5c fs4 fc2 sc0 lsc ws2">array<span class="_ _4"> </span>v<span class="_ _0"></span>alues<span class="_ _4"> </span>between<span class="_ _4"> </span>positions<span class="_ _4"> </span>1<span class="_ _4"> </span>and<span class="_ _4"> </span>4<span class="_ _4"> </span>by<span class="_ _4"> </span>3,<span class="_ _4"> </span>we<span class="_ _4"> </span>increase<span class="_ _4"> </span>the<span class="_ _4"> </span>difference<span class="_ _6"> </span>array<span class="_ _4"> </span>value</div><div class="t m0 xac h15 y1434 ff5c fs4 fc2 sc0 lsd ws2">at<span class="_ _6"> </span>position<span class="_ _4"> </span>1<span class="_ _6"> </span>by<span class="_ _4"> </span>3<span class="_ _6"> </span>and<span class="_ _4"> </span>decrease<span class="_ _4"> </span>the<span class="_ _6"> </span>value<span class="_ _6"> </span>at<span class="_ _4"> </span>position<span class="_ _6"> </span>5<span class="_ _4"> </span>by<span class="_ _6"> </span>3<span class="_ _4"> </span>(Fig.<span class="_ _20"> </span><span class="fc3 lse">9.18</span><span class="ls2a">).</span></div><div class="t m0 x35 h15 y1435 ff5c fs4 fc2 sc0 lsc ws2">Thus,<span class="_ _3"> </span>we<span class="_ _b"> </span>only<span class="_ _b"> </span>update<span class="_ _b"> </span>single<span class="_ _b"> </span>v<span class="_ _0"></span>alues<span class="_ _b"> </span>and<span class="_ _b"> </span>process<span class="_ _3"> </span>sum<span class="_ _b"> </span>queries<span class="_ _b"> </span>in<span class="_ _b"> </span>the<span class="_ _b"> </span>dif<span class="_ _0"></span>ference</div><div class="t m0 xac h15 y1436 ff5c fs4 fc2 sc0 lsd ws2">array<span class="_ _16"></span>,<span class="_ _c"> </span>so<span class="_ _c"> </span>we<span class="_ _4"> </span>can<span class="_ _c"> </span>use<span class="_ _c"> </span>a<span class="_ _c"> </span>binary<span class="_ _c"> </span>inde<span class="_ _0"></span>xed<span class="_ _4"> </span>tree<span class="_ _c"> </span>or<span class="_ _c"> </span>a<span class="_ _c"> </span>segment<span class="_ _4"> </span>tree.<span class="_ _c"> </span>A<span class="_ _c"> </span>more<span class="_ _4"> </span>difﬁcult<span class="_ _c"> </span>task</div><div class="t m0 xac h15 y1437 ff5c fs4 fc2 sc0 lsd ws2">is<span class="_ _c"> </span>to<span class="_ _c"> </span>create<span class="_ _c"> </span>a<span class="_ _c"> </span>data<span class="_ _4"> </span>s<span class="_"> </span>tructure<span class="_ _c"> </span>that<span class="_ _c"> </span>supports<span class="_ _c"> </span><span class="ff5d lsc">both<span class="_ _c"> </span><span class="ff5c">range<span class="_ _c"> </span>queries<span class="_ _c"> </span>and<span class="_ _c"> </span>range<span class="_ _c"> </span>updates.<span class="_ _c"> </span>In</span></span></div><div class="t m0 xac h15 y1438 ff5c fs4 fc2 sc0 lse ws2">Sect.<span class="_ _6"> </span><span class="fc3 lsc">15.2.1</span><span class="lsd">,<span class="_ _4"> </span>we<span class="_ _6"> </span>will<span class="_ _4"> </span>see<span class="_ _4"> </span>that<span class="_ _6"> </span>also<span class="_ _4"> </span>this<span class="_ _6"> </span>is<span class="_ _4"> </span>possible<span class="_ _6"> </span>using<span class="_ _4"> </span>a<span class="_ _6"> </span>lazy<span class="_ _4"> </span>segment<span class="_ _6"> </span>tree.</span></div><a class="l" href="#pf93" data-dest-detail='[147,"XYZ",89,609,null]'><div class="d m1" style="border-style:none;position:absolute;left:457.636030px;bottom:660.193777px;width:19.416000px;height:8.580000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf93" data-dest-detail='[147,"XYZ",89,530,null]'><div class="d m1" style="border-style:none;position:absolute;left:702.090033px;bottom:442.512137px;width:19.416000px;height:8.589000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://dx.doi.org/10.1007/978-3-030-39357-1_15"><div class="d m1" style="border-style:none;position:absolute;left:170.043084px;bottom:333.661075px;width:26.886000px;height:8.805000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.275981,0.000000,0.000000,2.275981,0.000000,0.000000]}'></div></div>
