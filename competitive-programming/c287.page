<div id="pf11f" class="pf w2 h6" data-page-no="11f"><div class="pc pc11f w2 h6"><img class="bi x0 y0 w1 h1" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA3AAAAU1CAIAAADdzbFlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAU/0lEQVR42u3ZwW1CMRREUQa5AiqgmtSUElJHyqAYRCfDJstsYj6SHZ1TwsiLq+e0PQEAwKyzCQAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAAAbGiZ40fXzZgQA2NHj68MIh3ChBADgJWlrBQAAprlQAgAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAEEJAADThgnWl8QIAHCUtkYQlJ4+ADDJmeYdfHkDACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAILSBAAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIA8P8NE2whiREAgEVDpa0VAACY5ssbAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQDAOoYJ1pfECABwlLZGEJSePgAwyZnmHXx5AwAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBACA3w0TbCGJEQCARUOlrRUAAJjmyxsAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAEJQmAABAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgAgKE0AAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAAghIAAAQlAACCEgCA3YIyP77vlySJSQAA+Isn/NInDqvv5TIAAAAASUVORK5CYII="/><div class="t m0 xac h19 y18c ff9c fsc fc2 sc0 ls20 ws2">15.3<span class="_ _29"> </span>T<span class="_ _0"></span>reaps<span class="_ _e9"> </span><span class="ls21">281</span></div><div class="t m0 x3b h21 y214 ff1e fsc fc2 sc0 ls1f ws2">void<span class="_ _14"> </span><span class="ff5a ls20">merge(node<span class="_ _f"> </span>*&amp;treap,<span class="_ _14"> </span>node<span class="_ _14"> </span>*left,<span class="_ _f"> </span>node<span class="_ _14"> </span>*right)<span class="_ _f"> </span>{</span></div><div class="t m0 x3c h21 y2f9 ff1e fsc fc2 sc0 ls1f ws2">if<span class="_ _14"> </span><span class="ff5a ls20">(left<span class="_ _f"> </span>==<span class="_ _14"> </span>NULL)<span class="_ _f"> </span>treap<span class="_ _14"> </span>=<span class="_ _14"> </span>right;</span></div><div class="t m0 x3c h21 y215 ff1e fsc fc2 sc0 ls1f ws2">else<span class="_ _14"> </span>if<span class="ff5a ls21">(right<span class="_ _f"> </span>==<span class="_ _14"> </span>NULL)<span class="_ _f"> </span>treap<span class="_ _14"> </span>=<span class="_ _14"> </span>left;</span></div><div class="t m0 x3c h21 y47f ff1e fsc fc2 sc0 ls1f ws2">else<span class="_ _14"> </span><span class="ff5a ls6">{</span></div><div class="t m0 xa h21 y216 ff1e fsc fc2 sc0 ls1f ws2">if<span class="_ _14"> </span><span class="ff5a ls12">(left-&gt;weight<span class="_ _f"> </span>&lt;<span class="_ _14"> </span>right-&gt;weight)<span class="_ _f"> </span>{</span></div><div class="t m0 x59 h21 y217 ff5a fsc fc2 sc0 ls6 ws2">merge(left-&gt;right,<span class="_ _14"> </span>left-&gt;right,<span class="_ _f"> </span>right);</div><div class="t m0 x59 h21 y218 ff5a fsc fc2 sc0 ls21 ws2">treap<span class="_ _14"> </span>=<span class="_ _f"> </span>left;</div><div class="t m0 xa h21 y219 ff5a fsc fc2 sc0 ls6 ws2">}<span class="_ _14"> </span><span class="ff1e ls1f">else<span class="_ _f"> </span></span>{</div><div class="t m0 x59 h21 y21a ff5a fsc fc2 sc0 ls6 ws2">merge(right-&gt;left,<span class="_ _14"> </span>left,<span class="_ _f"> </span>right-&gt;left);</div><div class="t m0 x59 h21 y21b ff5a fsc fc2 sc0 ls21 ws2">treap<span class="_ _14"> </span>=<span class="_ _f"> </span>right;</div><div class="t m0 xa h21 y21c ff5a fsc fc2 sc0 ls6 ws2">}</div><div class="t m0 xa h21 y21d ff5a fsc fc2 sc0 ls12 ws2">treap-&gt;size<span class="_ _14"> </span>=<span class="_ _f"> </span>size(treap-&gt;left)+size(treap-&gt;right)+1;</div><div class="t m0 x3c h21 y21e ff5a fsc fc2 sc0 ls6 ws2">}</div><div class="t m0 x3b h21 y21f ff5a fsc fc2 sc0 ls6 ws2">}</div><div class="t m0 x35 h15 y2eb9 ff5c fs4 fc2 sc0 lsc ws2">For<span class="_ _b"> </span>example,<span class="_ _b"> </span>the<span class="_ _b"> </span>following<span class="_ _b"> </span>code<span class="_ _b"> </span>creates<span class="_ _b"> </span>a<span class="_ _13"> </span>treap<span class="_ _b"> </span>that<span class="_ _b"> </span>corresponds<span class="_ _13"> </span>to<span class="_ _b"> </span>the<span class="_ _b"> </span>array</div><div class="t m0 xac h20 y2eba ff9b fs4 fc2 sc0 ls6 ws2">[<span class="ff5c">1<span class="ff56">,<span class="_ _2d"> </span></span>2<span class="_"> </span><span class="ff56">,<span class="_ _15"> </span></span>3<span class="ff56">,<span class="_ _15"> </span></span>4</span>]<span class="ff5c lsd">.<span class="_ _6"> </span>Then<span class="_ _6"> </span>it<span class="_ _d"> </span>divides<span class="_ _d"> </span>it<span class="_ _6"> </span>into<span class="_ _6"> </span>two<span class="_ _d"> </span>treaps<span class="_ _6"> </span>of<span class="_ _d"> </span>size<span class="_ _6"> </span>2<span class="_ _6"> </span>and<span class="_ _d"> </span>swaps<span class="_ _6"> </span>their<span class="_ _d"> </span>order<span class="_ _6"> </span>to<span class="_ _6"> </span>create</span></div><div class="t m0 xac h20 y2ebb ff5c fs4 fc2 sc0 lsd ws2">a<span class="_ _6"> </span>new<span class="_ _6"> </span>treap<span class="_ _4"> </span>that<span class="_ _6"> </span>corresponds<span class="_ _4"> </span>to<span class="_ _6"> </span>the<span class="_ _4"> </span>array<span class="_ _6"> </span><span class="ff9b ls6">[<span class="ff5c">3<span class="ff56">,<span class="_ _15"> </span></span>4<span class="ff56">,<span class="_ _15"> </span></span>1<span class="ff56">,<span class="_ _15"> </span></span>2</span>]<span class="ff5c">.</span></span></div><div class="t m0 x3b h21 y2ebc ff5a fsc fc2 sc0 ls1e ws2">node<span class="_ _14"> </span>*treap<span class="_ _f"> </span>=<span class="_ _14"> </span>NULL;</div><div class="t m0 x3b h21 y2ebd ff5a fsc fc2 sc0 ls6 ws2">merge(treap,<span class="_ _14"> </span>treap,<span class="_ _f"> </span><span class="ff1e ls1f">new<span class="_ _14"> </span></span><span class="ls21">node(1));</span></div><div class="t m0 x3b h21 y2ebe ff5a fsc fc2 sc0 ls6 ws2">merge(treap,<span class="_ _14"> </span>treap,<span class="_ _f"> </span><span class="ff1e ls1f">new<span class="_ _14"> </span></span><span class="ls21">node(2));</span></div><div class="t m0 x3b h21 y2ebf ff5a fsc fc2 sc0 ls6 ws2">merge(treap,<span class="_ _14"> </span>treap,<span class="_ _f"> </span><span class="ff1e ls1f">new<span class="_ _14"> </span></span><span class="ls21">node(3));</span></div><div class="t m0 x3b h21 y2ec0 ff5a fsc fc2 sc0 ls6 ws2">merge(treap,<span class="_ _14"> </span>treap,<span class="_ _f"> </span><span class="ff1e ls1f">new<span class="_ _14"> </span></span><span class="ls21">node(4));</span></div><div class="t m0 x3b h21 y2ec1 ff5a fsc fc2 sc0 ls20 ws2">node<span class="_ _14"> </span>*left,<span class="_ _f"> </span>*right;</div><div class="t m0 x3b h21 y2ec2 ff5a fsc fc2 sc0 ls12 ws2">split(treap,<span class="_ _14"> </span>left,<span class="_ _f"> </span>right,<span class="_ _14"> </span>2);</div><div class="t m0 x3b h21 y2ec3 ff5a fsc fc2 sc0 ls12 ws2">merge(treap,<span class="_ _14"> </span>right,<span class="_ _f"> </span>left);</div><div class="t m0 xac h35 y2ec4 ff99 fsf fc2 sc0 ls18 ws2">15.3.3<span class="_ _2f"> </span>Additional<span class="_ _15"> </span>T<span class="_ _16"></span>echniques</div><div class="t m0 xac h15 y2ec5 ff5c fs4 fc2 sc0 lsc ws2">The<span class="_ _c"> </span>splitting<span class="_ _c"> </span>and<span class="_ _c"> </span>merging<span class="_ _c"> </span>operations<span class="_ _c"> </span>of<span class="_ _c"> </span>treaps<span class="_ _3"> </span>are<span class="_ _c"> </span>very<span class="_ _c"> </span>po<span class="_ _0"></span>werful,<span class="_ _c"> </span>because<span class="_ _c"> </span>we<span class="_ _3"> </span>can</div><div class="t m0 xac h15 y2ec6 ff5c fs4 fc2 sc0 lsd ws2">freely<span class="_ _3"> </span>“cut<span class="_ _b"> </span>and<span class="_ _b"> </span>paste”<span class="_ _b"> </span>arrays<span class="_ _b"> </span>in<span class="_ _3"> </span>logarithmic<span class="_ _b"> </span>time<span class="_ _b"> </span>using<span class="_ _3"> </span>them.<span class="_ _b"> </span>Treaps<span class="_ _3"> </span>can<span class="_ _3"> </span>be<span class="_ _b"> </span>also</div><div class="t m0 xac h15 y2ec7 ff5c fs4 fc2 sc0 lsd ws2">extended<span class="_ _c"> </span>so<span class="_ _c"> </span>that<span class="_ _c"> </span>they<span class="_ _c"> </span>work<span class="_ _c"> </span>almost<span class="_ _c"> </span>like<span class="_ _c"> </span>segment<span class="_ _c"> </span>trees.<span class="_ _c"> </span>For<span class="_ _c"> </span>example,<span class="_ _c"> </span>in<span class="_ _c"> </span>addition<span class="_ _c"> </span>to</div><div class="t m0 xac h15 y2ec8 ff5c fs4 fc2 sc0 lsc ws2">maintaining<span class="_ _6"> </span>the<span class="_ _6"> </span>size<span class="_ _6"> </span>of<span class="_ _4"> </span>each<span class="_ _6"> </span>subtree,<span class="_ _6"> </span>we<span class="_ _6"> </span>can<span class="_ _4"> </span>also<span class="_ _6"> </span>maintain<span class="_ _6"> </span>the<span class="_ _6"> </span>s<span class="_"> </span>um<span class="_ _4"> </span>of<span class="_ _6"> </span>its<span class="_ _6"> </span>values,<span class="_ _6"> </span>the</div><div class="t m0 xac h15 y2ec9 ff5c fs4 fc2 sc0 lsc ws2">minimum<span class="_ _6"> </span>value,<span class="_ _6"> </span>and<span class="_ _4"> </span>so<span class="_ _6"> </span>on.</div><div class="t m0 x35 h15 y2eca ff5c fs4 fc2 sc0 lsc ws2">One<span class="_ _13"> </span>special<span class="_ _b"> </span>trick<span class="_ _13"> </span>related<span class="_ _13"> </span>to<span class="_ _13"> </span>treaps<span class="_ _b"> </span>is<span class="_ _13"> </span>that<span class="_ _13"> </span>we<span class="_ _13"> </span>can<span class="_ _b"> </span>efﬁciently<span class="_ _b"> </span><span class="ff9a lsd">re<span class="_ _0"></span>verse<span class="_ _b"> </span><span class="ff5c lsc">an<span class="_ _13"> </span>array<span class="_ _0"></span>.</span></span></div><div class="t m0 xac h15 y2ecb ff5c fs4 fc2 sc0 lsc ws2">This<span class="_ _6"> </span>can<span class="_ _4"> </span>be<span class="_ _4"> </span>done<span class="_ _6"> </span>by<span class="_ _4"> </span>swapping<span class="_ _6"> </span>the<span class="_ _4"> </span>left<span class="_ _4"> </span>and<span class="_ _6"> </span>right<span class="_ _4"> </span>child<span class="_ _4"> </span>of<span class="_ _6"> </span>each<span class="_ _4"> </span>node<span class="_ _4"> </span>in<span class="_ _6"> </span>the<span class="_ _4"> </span>treap.<span class="_ _4"> </span>For</div><div class="t m0 xac h15 y2ecc ff5c fs4 fc2 sc0 lse ws2">example,<span class="_ _15"> </span>Fig.<span class="_ _20"> </span><span class="fc3">15.22<span class="_ _d"> </span></span><span class="ls6">shows<span class="_ _15"> </span>the<span class="_ _d"> </span>result<span class="_ _d"> </span>after<span class="_ _d"> </span>rev<span class="_ _0"></span>ersing<span class="_ _15"> </span>the<span class="_ _d"> </span>array<span class="_ _d"> </span>in<span class="_ _d"> </span>Fig.<span class="_ _20"> </span><span class="fc3 lse">15.18</span><span class="ls1a1">.T<span class="_ _31"></span>od<span class="_ _33"></span>ot<span class="_ _33"></span>h<span class="_ _33"></span>i<span class="_ _33"></span>s</span></span></div><div class="t m0 xac h15 y2ecd ff5c fs4 fc2 sc0 lsc ws2">efﬁciently<span class="_ _1"></span>,<span class="_ _6"> </span>we<span class="_ _6"> </span>can<span class="_ _6"> </span>introduce<span class="_ _6"> </span>a<span class="_ _6"> </span>ﬁeld<span class="_ _6"> </span>that<span class="_ _6"> </span>indicates<span class="_ _6"> </span>if<span class="_ _6"> </span>we<span class="_ _6"> </span>should<span class="_ _6"> </span>rev<span class="_ _0"></span>erse<span class="_ _6"> </span>the<span class="_ _6"> </span>subtree<span class="_ _6"> </span>of</div><div class="t m0 xac h15 y2ece ff5c fs4 fc2 sc0 lsc ws2">the<span class="_ _6"> </span>node<span class="_ _4"> </span>and<span class="_ _6"> </span>process<span class="_ _4"> </span>swapping<span class="_ _6"> </span>operations<span class="_ _4"> </span>lazily<span class="_ _16"></span>.</div><a class="l" href="#pf120" data-dest-detail='[288,"XYZ",94,609,null]'><div class="d m1" style="border-style:none;position:absolute;left:245.075346px;bottom:339.027838px;width:24.393000px;height:8.796000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf11c" data-dest-detail='[284,"XYZ",94,609,null]'><div class="d m1" style="border-style:none;position:absolute;left:725.769338px;bottom:339.027838px;width:24.393000px;height:8.796000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.275981,0.000000,0.000000,2.275981,0.000000,0.000000]}'></div></div>
