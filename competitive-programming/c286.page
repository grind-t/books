<div id="pf11e" class="pf w2 h6" data-page-no="11e"><div class="pc pc11e w2 h6"><img class="bi x0 y0 w1 h1" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA3AAAAU1CAIAAADdzbFlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAVJklEQVR42u3aUVHEQBRE0TQ1ClAQNWhCAjqQgRg2TpofDDCbhQl1joSufNx6k7TdAABg1pMJAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAAAQlAAAISgAABCUAABc0THCn/fXDCABwRcfbixFO4UIJAMBd0tYKAABMc6EEAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBADgVwwTrC+JEQDgLG2NICh9+gDAJGeaR/DkDQCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAIShMAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAALBt2zZMcAlJjAAACEom3W63fd/tAAD3O47DCKdLWysAADDNP5QAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQDA8oYJ1pfECABwlrZGEJQ+fQBgkjPNI3jyBgBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBABCUAAAgKAEA+CPDBJeQxAgAwKKh0tYKAABM8+QNAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAMCphgnWl8QIAHCWtkYQlD59AGCSM80jePIGAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAAASlCQAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAD8W8MEl5DECADAoqHS1goAAEzz5A0AgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAACEoTAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAsGpT59v75nCQxCQAAP/EFk9c1sqR2l4gAAAAASUVORK5CYII="/><div class="t m0 xac h19 y18c ff9c fsc fc2 sc0 ls21 ws2">280<span class="_ _c5"> </span><span class="ff5c ls10">15<span class="_ _2c"> </span>Additional<span class="_ _d"> </span>T<span class="_ _0"></span>opics</span></div><div class="t m0 xac h35 y18d ff99 fsf fc2 sc0 ls18 ws2">15.3.2<span class="_ _2f"> </span>Implementation</div><div class="t m0 xac h15 y1f6 ff5c fs4 fc2 sc0 lsc ws2">Next<span class="_ _6"> </span>we<span class="_ _6"> </span>will<span class="_ _6"> </span>learn<span class="_ _6"> </span>a<span class="_ _6"> </span>conv<span class="_ _0"></span>enient<span class="_ _6"> </span>way<span class="_ _6"> </span>to<span class="_ _6"> </span>implement<span class="_ _6"> </span>a<span class="_ _6"> </span>treap.<span class="_ _4"> </span>First,<span class="_ _6"> </span>here<span class="_ _6"> </span>is<span class="_ _6"> </span>a<span class="_ _6"> </span>struct<span class="_ _4"> </span>that</div><div class="t m0 xac h15 y1f7 ff5c fs4 fc2 sc0 lsc ws2">stores<span class="_ _6"> </span>a<span class="_ _4"> </span>treap<span class="_ _6"> </span>node:</div><div class="t m0 x3b h21 y491 ff1e fsc fc2 sc0 ls1f ws2">struct<span class="_ _14"> </span><span class="ff5a">node<span class="_ _f"> </span>{</span></div><div class="t m0 x3c h21 y1ffc ff5a fsc fc2 sc0 ls20 ws2">node<span class="_ _14"> </span>*left,<span class="_ _f"> </span>*right;</div><div class="t m0 x3c h21 y1ffd ff1e fsc fc2 sc0 ls1f ws2">int<span class="_ _14"> </span><span class="ff5a ls12">weight,<span class="_ _f"> </span>size,<span class="_ _14"> </span>value;</span></div><div class="t m0 x3c h21 y1ffe ff5a fsc fc2 sc0 ls10 ws2">node(<span class="ff1e ls1f">int<span class="_ _14"> </span><span class="ff5a">v)<span class="_ _f"> </span>{</span></span></div><div class="t m0 xa h21 y2b2 ff5a fsc fc2 sc0 ls21 ws2">left<span class="_ _14"> </span>=<span class="_ _f"> </span>right<span class="_ _14"> </span>=<span class="_ _f"> </span>NULL;</div><div class="t m0 xa h21 y1fff ff5a fsc fc2 sc0 ls21 ws2">weight<span class="_ _14"> </span>=<span class="_ _f"> </span>rand();</div><div class="t m0 xa h21 y2000 ff5a fsc fc2 sc0 ls1f ws2">size<span class="_ _14"> </span>=<span class="_ _f"> </span>1;</div><div class="t m0 xa h21 y2001 ff5a fsc fc2 sc0 ls1f ws2">value<span class="_ _14"> </span>=<span class="_ _f"> </span>v;</div><div class="t m0 x3c h21 y2002 ff5a fsc fc2 sc0 ls6 ws2">}</div><div class="t m0 x3b h21 y1094 ff5a fsc fc2 sc0 ls1f ws2">};</div><div class="t m0 x35 h23 y2ea3 ff5c fs4 fc2 sc0 lse ws2">The<span class="_ _4"> </span>ﬁeld<span class="_ _4"> </span><span class="ff5a lsc">size<span class="_ _4"> </span></span>contains<span class="_ _4"> </span>the<span class="_ _4"> </span>size<span class="_ _4"> </span>of<span class="_ _4"> </span>the<span class="_ _6"> </span>subtree<span class="_ _4"> </span>of<span class="_ _4"> </span>the<span class="_ _4"> </span>node.<span class="_ _4"> </span>Since<span class="_ _4"> </span>a<span class="_ _4"> </span>node<span class="_ _4"> </span>can<span class="_ _4"> </span>be</div><div class="t m0 xac h23 y2ea4 ff5a fs4 fc2 sc0 lsc ws2">NULL<span class="ff5c lsd">,<span class="_ _6"> </span>the<span class="_ _4"> </span>following<span class="_ _6"> </span>function<span class="_ _6"> </span>is<span class="_ _4"> </span>useful:</span></div><div class="t m0 x3b h21 ya2a ff1e fsc fc2 sc0 ls1f ws2">int<span class="_ _14"> </span><span class="ff5a ls20">size(node<span class="_ _f"> </span>*treap)<span class="_ _14"> </span>{</span></div><div class="t m0 x3c h21 ya2b ff1e fsc fc2 sc0 ls1f ws2">if<span class="_ _14"> </span><span class="ff5a ls20">(treap<span class="_ _f"> </span>==<span class="_ _14"> </span>NULL)<span class="_ _f"> </span></span>return<span class="_ _14"> </span><span class="ff5a">0;</span></div><div class="t m0 x3c h21 ya2c ff1e fsc fc2 sc0 ls1f ws2">return<span class="_ _14"> </span><span class="ff5a ls6">treap-&gt;size;</span></div><div class="t m0 x3b h21 ya2d ff5a fsc fc2 sc0 ls6 ws2">}</div><div class="t m0 x35 h23 y2ea5 ff5c fs4 fc2 sc0 lsd ws2">The<span class="_ _6"> </span>following<span class="_ _6"> </span>function<span class="_ _c"> </span><span class="ff5a lsc">split<span class="_ _6"> </span></span>implements<span class="_ _4"> </span>the<span class="_ _4"> </span>splitting<span class="_ _6"> </span>operation.<span class="_ _4"> </span>The<span class="_ _4"> </span>function</div><div class="t m0 xac h23 y2ea6 ff5c fs4 fc2 sc0 ls6 ws2">recursi<span class="_ _0"></span>vely<span class="_ _15"> </span>splits<span class="_ _d"> </span>the<span class="_ _6"> </span>treap<span class="_ _15"> </span><span class="ff5a lsc">treap<span class="_ _d"> </span></span><span class="lsd">into<span class="_ _d"> </span>treaps<span class="_ _6"> </span><span class="ff5a lsc">left<span class="_ _15"> </span></span><span class="ls14">and<span class="_ _6"> </span><span class="ff5a lsc">right<span class="_ _d"> </span></span></span>so<span class="_ _d"> </span>that<span class="_ _d"> </span>the<span class="_ _d"> </span>left<span class="_ _d"> </span>treap</span></div><div class="t m0 xac h15 y2ea7 ff5c fs4 fc2 sc0 lsd ws2">contains<span class="_ _6"> </span>the<span class="_ _4"> </span>ﬁrst<span class="_ _6"> </span><span class="ff9a ls6">k<span class="_ _c"> </span></span><span class="lsc">nodes<span class="_ _4"> </span>and<span class="_ _4"> </span>the<span class="_ _6"> </span>right<span class="_ _4"> </span>treap<span class="_ _6"> </span>contains<span class="_ _4"> </span>the<span class="_ _4"> </span>remaining<span class="_ _6"> </span>nodes.</span></div><div class="t m0 x3b h21 y2ea8 ff1e fsc fc2 sc0 ls1f ws2">void<span class="_ _14"> </span><span class="ff5a ls20">split(node<span class="_ _f"> </span>*treap,<span class="_ _14"> </span>node<span class="_ _14"> </span>*&amp;left,<span class="_ _f"> </span>node<span class="_ _14"> </span>*&amp;right,<span class="_ _f"> </span></span>int<span class="_ _14"> </span><span class="ff5a ls27">k)<span class="_ _f"> </span>{</span></div><div class="t m0 x3c h21 y2ea9 ff1e fsc fc2 sc0 ls1f ws2">if<span class="_ _14"> </span><span class="ff5a ls20">(treap<span class="_ _f"> </span>==<span class="_ _14"> </span>NULL)<span class="_ _f"> </span>{</span></div><div class="t m0 xa h21 y2eaa ff5a fsc fc2 sc0 ls21 ws2">left<span class="_ _14"> </span>=<span class="_ _f"> </span>right<span class="_ _14"> </span>=<span class="_ _f"> </span>NULL;</div><div class="t m0 x3c h21 y2eab ff5a fsc fc2 sc0 ls6 ws2">}<span class="_ _14"> </span><span class="ff1e ls1f">else<span class="_ _f"> </span></span>{</div><div class="t m0 xa h21 y2eac ff1e fsc fc2 sc0 ls1f ws2">if<span class="_ _14"> </span><span class="ff5a ls10">(size(treap-&gt;left)<span class="_ _f"> </span>&lt;<span class="_ _14"> </span>k)<span class="_ _f"> </span>{</span></div><div class="t m0 x59 h21 y2ead ff5a fsc fc2 sc0 ls6 ws2">split(treap-&gt;right,<span class="_ _14"> </span>treap-&gt;right,<span class="_ _f"> </span>right,</div><div class="t m0 x76 h21 y2eae ff5a fsc fc2 sc0 ls12 ws2">k-size(treap-&gt;left)-1);</div><div class="t m0 x59 h21 y2eaf ff5a fsc fc2 sc0 ls12 ws2">left<span class="_ _14"> </span>=<span class="_ _f"> </span>treap;</div><div class="t m0 xa h21 y2eb0 ff5a fsc fc2 sc0 ls6 ws2">}<span class="_ _14"> </span><span class="ff1e ls1f">else<span class="_ _f"> </span></span>{</div><div class="t m0 x59 h21 y2eb1 ff5a fsc fc2 sc0 ls6 ws2">split(treap-&gt;left,<span class="_ _14"> </span>left,<span class="_ _f"> </span>treap-&gt;left,<span class="_ _14"> </span>k);</div><div class="t m0 x59 h21 y2eb2 ff5a fsc fc2 sc0 ls21 ws2">right<span class="_ _14"> </span>=<span class="_ _f"> </span>treap;</div><div class="t m0 xa h21 y2eb3 ff5a fsc fc2 sc0 ls6 ws2">}</div><div class="t m0 xa h21 y2eb4 ff5a fsc fc2 sc0 ls12 ws2">treap-&gt;size<span class="_ _14"> </span>=<span class="_ _f"> </span>size(treap-&gt;left)+size(treap-&gt;right)+1;</div><div class="t m0 x3c h21 yb4d ff5a fsc fc2 sc0 ls6 ws2">}</div><div class="t m0 x3b h21 y2eb5 ff5a fsc fc2 sc0 ls6 ws2">}</div><div class="t m0 x35 h23 y2eb6 ff5c fs4 fc2 sc0 lsc ws2">Then,<span class="_ _b"> </span>the<span class="_ _b"> </span>following<span class="_ _b"> </span>function<span class="_ _13"> </span><span class="ff5a">merge<span class="_ _b"> </span></span>implements<span class="_ _b"> </span>the<span class="_ _b"> </span>merging<span class="_ _b"> </span>operation.<span class="_ _b"> </span>This</div><div class="t m0 xac h23 y2eb7 ff5c fs4 fc2 sc0 lsc ws2">function<span class="_ _4"> </span>creates<span class="_ _c"> </span>a<span class="_ _4"> </span>treap<span class="_ _4"> </span><span class="ff5a">treap<span class="_ _c"> </span></span>that<span class="_ _4"> </span>contains<span class="_ _4"> </span>ﬁrst<span class="_ _c"> </span>the<span class="_ _4"> </span>nodes<span class="_ _4"> </span>of<span class="_ _c"> </span>the<span class="_ _4"> </span>treap<span class="_ _4"> </span><span class="ff5a">left<span class="_ _c"> </span></span><span class="ls14">and</span></div><div class="t m0 xac h23 y2eb8 ff5c fs4 fc2 sc0 ls14 ws2">then<span class="_ _6"> </span>the<span class="_ _4"> </span>nodes<span class="_ _6"> </span>of<span class="_ _4"> </span>the<span class="_ _4"> </span>treap<span class="_ _6"> </span><span class="ff5a lsc">right</span><span class="ls6">.</span></div></div><div class="pi" data-data='{"ctm":[2.275981,0.000000,0.000000,2.275981,0.000000,0.000000]}'></div></div>
