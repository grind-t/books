<div id="pf8a" class="pf w2 h6" data-page-no="8a"><div class="pc pc8a w2 h6"><img class="bi x0 y0 w1 h1" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA3AAAAU1CAIAAADdzbFlAAAACXBIWXMAABYlAAAWJQFJUiTwAAAVlElEQVR42u3ZUVFcQRCG0XTqtoEoiIVFBJqQEB2RERGsg1SEdFXzAAIW6CUzdc8RMMX9eZivdqK7vwEAwEd9NwEAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQCAoAQAAEEJAICgBABgQ4cJPunn0x8jAMCO/v16NMIIv1ACAPAp0d1WAADgw/xCCQCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAIShMAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBABCUJgAAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAIChNAACAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQBYwGECAAZVVWbagfV1txGmhDUBGL5aYv5y2eVMn3/yzz8tT94AAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACAPAForutAMCUqspMO7A+CSQoAQBYhSdvAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAICgBAEBQAgDwfxwmAGBQVWWmHVhfdxthSlgTgOGrJeYvl13O9Pkn//zT8uQNAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAG4T3W0FAKZUVWbagfVJIEEJAMAqPHkDACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAACzqMAEAg6oqM+3A+rrbCFPCmgAMXy0xf7nscubrsc/X6+yZD5fLFmfe70/d5b9/Wp68AQAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAMBtorutAMCUqspMO7A+CSQoAQBYhSdvAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAICgBAEBQAgAgKAEA2NBhAgAGVVVm2oH1dbcRpoQ1ARi+WmL+crnTmc/X6/jnP1wuu3z+PRrgHqvuMumZefIGAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAALeJ7rYCAFOqKjPtwPokkKAEAGAVnrwBABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAACCEgAAQQkAgKAEAEBQAgCAoAQAQFACACAoAQAQlAAAICgBABCUAAAISgAABCUAAAhKAAAEJQAAghIAAEEJAICgBAAAQQkAgKAEAEBQAgAgKAEAQFACACAoAQAQlAAACEoAABCUAAAISgAABCUAAIISAAAEJQAAghIAAEEJAICgBABAUAIAgKAEAEBQAgAgKAEAEJQAACAoAQAQlAAACEoAAAQlAAAISgAABCUAAIISAABBCQAAghIAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAEJQAACEoAAAQlAACCEgAAQQkAAIISAABBCQCAoAQAQFACAICgBABAUAIAICgBABCUAAAgKAEAEJQAAAhKAAAEJQAAghIAAAQlAACCEgAAQQkAgKAEAABBCQCAoAQAQFACACAoAQBAUAIAICgBABCUAAAISgAAEJQAAAhKAAAEJQAAghIAAEFpAgAABCUAAIISAABBCQCAoAQAAEEJAICgBABAUAIAICgBAEBQAgAgKAEAEJQAAAhKAAAQlAAACEoAAAQlAACCEgAABCUAAIISAABBCQCAoAQAQFACAICgBADgy4My3vz++yMiIkwCAMB7vAD2r9Tc1uU4kwAAAABJRU5ErkJggg=="/><div class="t m0 xac h18 y18c ff5e fsc fc2 sc0 ls21 ws2">128<span class="_ _72"> </span><span class="ff5c ls11">9<span class="_ _2c"> </span>Range<span class="_ _d"> </span>Queries</span></div><div class="t m0 xac h1a y18d ff54 fsf fc2 sc0 ls5d ws2">9.1.1<span class="_ _2f"> </span>Sum<span class="_ _6"> </span>Queries</div><div class="t m0 xac h23 y1f6 ff5c fs4 fc2 sc0 ls14 ws2">Let<span class="_ _d"> </span><span class="ff5a lsc">sum</span></div><div class="t m0 x18b h29 y1204 ff5d fs10 fc2 sc0 ls6 ws2">q</div><div class="t m0 x3c h15 y1f6 ff56 fs4 fc2 sc0 ls6 ws2">(<span class="ff5d">a<span class="_ _5"></span></span>,<span class="_ _15"> </span><span class="ff5d">b<span class="_ _5"></span></span>)<span class="_ _15"> </span><span class="ff5c lsc">(“range<span class="_ _d"> </span>sum<span class="_ _d"> </span>query”)<span class="_ _d"> </span>denote<span class="_ _d"> </span>the<span class="_ _d"> </span>sum<span class="_ _d"> </span>of<span class="_ _d"> </span>array<span class="_ _d"> </span>values<span class="_ _15"> </span>in<span class="_ _d"> </span>a<span class="_ _d"> </span>range<span class="_ _d"> </span></span><span class="ff5f">[<span class="ff5d">a<span class="_ _5"></span></span></span>,<span class="_ _15"> </span><span class="ff5d">b<span class="_ _5"></span><span class="ff5f">]<span class="ff5c">.</span></span></span></div><div class="t m0 xac h15 y32c ff5c fs4 fc2 sc0 lsd ws2">W<span class="_ _16"></span>e<span class="_ _c"> </span>can<span class="_ _c"> </span>ef<span class="_ _0"></span>ﬁciently<span class="_ _c"> </span>process<span class="_ _c"> </span>an<span class="_ _0"></span>y<span class="_ _c"> </span>sum<span class="_ _c"> </span>query<span class="_ _c"> </span>by<span class="_ _c"> </span>ﬁrst<span class="_ _4"> </span>constructing<span class="_ _c"> </span>a<span class="_ _c"> </span><span class="ff5d lsc">preﬁx<span class="_ _4"> </span>sum<span class="_ _c"> </span>array</span><span class="ls6">.</span></div><div class="t m0 xac h15 y32d ff5c fs4 fc2 sc0 lsc ws2">Each<span class="_ _d"> </span>v<span class="_ _0"></span>alue<span class="_ _d"> </span>in<span class="_ _d"> </span>the<span class="_ _d"> </span>preﬁx<span class="_ _d"> </span>sum<span class="_ _d"> </span>array<span class="_ _d"> </span>equals<span class="_ _d"> </span>the<span class="_ _d"> </span>sum<span class="_ _15"> </span>of<span class="_ _d"> </span>values<span class="_ _15"> </span>in<span class="_ _d"> </span>the<span class="_ _d"> </span>original<span class="_ _d"> </span>array<span class="_ _d"> </span>up<span class="_ _d"> </span>to</div><div class="t m0 xac h23 y32e ff5c fs4 fc2 sc0 lsd ws2">the<span class="_ _4"> </span>corresponding<span class="_ _4"> </span>position,<span class="_ _4"> </span>i.e.,<span class="_ _6"> </span>the<span class="_ _4"> </span>value<span class="_ _4"> </span>at<span class="_ _6"> </span>position<span class="_ _4"> </span><span class="ff5d ls6">k<span class="_ _3"> </span></span><span class="ls24">is<span class="_ _4"> </span><span class="ff5a lsc">sum</span></span></div><div class="t m0 x181 h29 y122a ff5d fs10 fc2 sc0 ls6 ws2">q</div><div class="t m0 x18c h15 y794 ff56 fs4 fc2 sc0 ls6 ws2">(<span class="ff5c">0</span>,<span class="_ _15"> </span><span class="ff5d">k<span class="_ _2a"></span></span>)<span class="ff5c lse">.<span class="_ _4"> </span>For<span class="_ _6"> </span>example,</span></div><div class="t m0 xac h15 y122b ff5c fs4 fc2 sc0 lse ws2">Fig.<span class="_ _20"> </span><span class="fc3 lsd">9.1<span class="_ _4"> </span><span class="fc2">sho<span class="_ _0"></span>ws<span class="_ _6"> </span>an<span class="_ _4"> </span>array<span class="_ _4"> </span>and<span class="_ _6"> </span>its<span class="_ _4"> </span>preﬁx<span class="_ _6"> </span>sum<span class="_ _4"> </span>array<span class="_ _16"></span>.</span></span></div><div class="t m0 x35 h15 y122c ff5c fs4 fc2 sc0 lsc ws2">The<span class="_ _d"> </span>preﬁx<span class="_ _6"> </span>sum<span class="_ _6"> </span>array<span class="_ _d"> </span>can<span class="_ _6"> </span>be<span class="_ _d"> </span>constructed<span class="_ _6"> </span>in<span class="_ _c"> </span><span class="ff5d ls6">O<span class="_ _2a"></span><span class="ff56">(</span>n<span class="_ _5"></span><span class="ff56">)<span class="_ _6"> </span></span></span>time.<span class="_ _d"> </span>Then,<span class="_ _6"> </span>since<span class="_ _6"> </span>the<span class="_ _d"> </span>preﬁx<span class="_ _6"> </span>sum</div><div class="t m0 xac h23 y122d ff5c fs4 fc2 sc0 lsc ws2">array<span class="_ _d"> </span>contains<span class="_ _6"> </span>all<span class="_ _6"> </span>values<span class="_ _d"> </span>of<span class="_ _d"> </span><span class="ff5a">sum</span></div><div class="t m0 x139 h29 y122e ff5d fs10 fc2 sc0 ls6 ws2">q</div><div class="t m0 x4e h23 ya61 ff56 fs4 fc2 sc0 ls6 ws2">(<span class="ff5c">0</span>,<span class="_ _15"> </span><span class="ff5d">k<span class="_ _2a"></span></span>)<span class="ff5c lsc">,<span class="_ _6"> </span>we<span class="_ _d"> </span>can<span class="_ _6"> </span>calculate<span class="_ _6"> </span>any<span class="_ _d"> </span>v<span class="_ _0"></span>alue<span class="_ _6"> </span>of<span class="_ _d"> </span><span class="ff5a lsd">sum</span></span></div><div class="t m0 x6a h29 y122e ff5d fs10 fc2 sc0 ls6 ws2">q</div><div class="t m0 x17a h15 ya61 ff56 fs4 fc2 sc0 ls6 ws2">(<span class="ff5d">a<span class="_ _5"></span></span>,<span class="_ _15"> </span><span class="ff5d">b<span class="_ _5"></span></span>)<span class="_ _d"> </span><span class="ff5c ls24">in</span></div><div class="t m0 x4 h15 yd38 ff5d fs4 fc2 sc0 ls6 ws2">O<span class="_ _2a"></span><span class="ff56">(<span class="ff5c">1</span>)<span class="_ _4"> </span><span class="ff5c">time<span class="_ _6"> </span>using<span class="_ _4"> </span>the<span class="_ _6"> </span>f<span class="_"> </span>ormula</span></span></div><div class="t m0 x59 h23 y122f ff5a fs4 fc2 sc0 lsc ws2">sum</div><div class="t m0 x72 h29 y1230 ff5d fs10 fc2 sc0 ls6 ws2">q</div><div class="t m0 x18d h23 y1231 ff56 fs4 fc2 sc0 ls6 ws2">(<span class="ff5d">a<span class="_ _5"></span></span>,<span class="_ _15"> </span><span class="ff5d">b<span class="_ _5"></span></span>)<span class="_ _4"> </span><span class="ff5f">=<span class="_ _4"> </span><span class="ff5a lsc">sum</span></span></div><div class="t m0 x63 h29 y1230 ff5d fs10 fc2 sc0 ls6 ws2">q</div><div class="t m0 xeb h23 y1231 ff56 fs4 fc2 sc0 ls6 ws2">(<span class="ff5c">0</span>,<span class="_ _15"> </span><span class="ff5d">b</span>)<span class="_ _6"> </span><span class="ff5f">−<span class="_ _6"> </span><span class="ff5a lsc">sum</span></span></div><div class="t m0 x18e h29 y1230 ff5d fs10 fc2 sc0 ls6 ws2">q</div><div class="t m0 x61 h15 y1231 ff56 fs4 fc2 sc0 ls6 ws2">(<span class="ff5c">0</span>,<span class="_ _2d"> </span><span class="ff5d">a<span class="_ _c"> </span><span class="ff5f">−<span class="_ _d"> </span><span class="ff5c">1</span></span></span><span class="ls17">).</span></div><div class="t m0 xac h23 y1232 ff5c fs4 fc2 sc0 lse ws2">By<span class="_ _6"> </span>deﬁning<span class="_ _4"> </span><span class="ff5a lsc">sum</span></div><div class="t m0 x16a h29 y1233 ff5d fs10 fc2 sc0 ls6 ws2">q</div><div class="t m0 x6f h15 y1234 ff56 fs4 fc2 sc0 ls6 ws2">(<span class="ff5c">0</span>,<span class="_ _15"> </span><span class="ff5f">−<span class="ff5c">1</span></span>)<span class="_ _4"> </span><span class="ff5f">=<span class="_ _c"> </span><span class="ff5c lsc">0,<span class="_ _6"> </span>the<span class="_ _4"> </span>abov<span class="_ _0"></span>e<span class="_ _6"> </span>formula<span class="_ _4"> </span>also<span class="_ _6"> </span>holds<span class="_ _4"> </span>when<span class="_ _4"> </span><span class="ff5d ls6">a<span class="_ _c"> </span><span class="ff5f">=<span class="_ _4"> </span></span></span><span class="ls45">0.</span></span></span></div><div class="t m0 x35 h15 y1235 ff5c fs4 fc2 sc0 lse ws2">As<span class="_ _c"> </span>an<span class="_ _3"> </span>example,<span class="_ _c"> </span>Fig.<span class="_ _20"> </span><span class="fc3 lsd">9.2<span class="_ _3"> </span></span><span class="lsc">sho<span class="_ _0"></span>ws<span class="_ _c"> </span>how<span class="_ _c"> </span>to<span class="_ _3"> </span>calculate<span class="_ _c"> </span>the<span class="_ _3"> </span>sum<span class="_ _c"> </span>of<span class="_ _3"> </span>values<span class="_ _c"> </span>in<span class="_ _c"> </span>the<span class="_ _3"> </span>range</span></div><div class="t m0 xac h23 y1236 ff5f fs4 fc2 sc0 ls6 ws2">[<span class="ff5c">3<span class="ff56">,<span class="_ _2d"> </span></span>6</span>]<span class="_ _6"> </span><span class="ff5c lsc">using<span class="_ _6"> </span>the<span class="_ _4"> </span>preﬁx<span class="_ _6"> </span>sum<span class="_ _6"> </span>array<span class="_ _16"></span>.<span class="_ _6"> </span>W<span class="_ _16"></span>e<span class="_ _6"> </span>can<span class="_ _6"> </span>see<span class="_ _6"> </span>in<span class="_ _6"> </span>the<span class="_ _6"> </span>original<span class="_ _6"> </span>array<span class="_ _6"> </span>that<span class="_ _4"> </span><span class="ff5a">sum</span></span></div><div class="t m0 x6a h29 y1237 ff5d fs10 fc2 sc0 ls6 ws2">q</div><div class="t m0 x17a h15 y1238 ff56 fs4 fc2 sc0 ls6 ws2">(<span class="ff5c">3</span>,<span class="_ _2d"> </span><span class="ff5c">6</span>)<span class="_ _c"> </span><span class="ff5f">=</span></div><div class="t m0 xac h15 y1239 ff5c fs4 fc2 sc0 ls6 ws2">8<span class="_ _d"> </span><span class="ff5f">+<span class="_ _6"> </span></span>6<span class="_ _6"> </span><span class="ff5f">+<span class="_ _6"> </span></span>1<span class="_ _d"> </span><span class="ff5f">+<span class="_ _6"> </span></span>4<span class="_ _4"> </span><span class="ff5f">=<span class="_ _c"> </span></span><span class="lsc">19.<span class="_ _2d"> </span>Using<span class="_ _2d"> </span>the<span class="_ _15"> </span>preﬁx<span class="_ _2d"> </span>sum<span class="_ _15"> </span>array<span class="_ _16"></span>,<span class="_ _15"> </span>we<span class="_ _2d"> </span>need<span class="_ _2d"> </span>to<span class="_ _15"> </span>examine<span class="_ _2d"> </span>only<span class="_ _2d"> </span>two<span class="_ _2d"> </span>values:</span></div><div class="t m0 xac h23 y123a ff5a fs4 fc2 sc0 lsc ws2">sum</div><div class="t m0 xc6 h29 y123b ff5d fs10 fc2 sc0 ls6 ws2">q</div><div class="t m0 x18f h23 y123c ff56 fs4 fc2 sc0 ls6 ws2">(<span class="ff5c">3</span>,<span class="_ _2d"> </span><span class="ff5c">6</span>)<span class="_ _c"> </span><span class="ff5f">=<span class="_ _4"> </span><span class="ff5a lsc">sum</span></span></div><div class="t m0 x48 h29 y123b ff5d fs10 fc2 sc0 ls6 ws2">q</div><div class="t m0 x71 h23 y123c ff56 fs4 fc2 sc0 ls6 ws2">(<span class="ff5c">0</span>,<span class="_ _15"> </span><span class="ff5c">6</span>)<span class="_ _d"> </span><span class="ff5f">−<span class="_ _6"> </span><span class="ff5a lsc">sum</span></span></div><div class="t m0 x14a h29 y123b ff5d fs10 fc2 sc0 ls6 ws2">q</div><div class="t m0 xee h15 y123c ff56 fs4 fc2 sc0 ls6 ws2">(<span class="ff5c">0</span>,<span class="_ _15"> </span><span class="ff5c">2</span>)<span class="_ _4"> </span><span class="ff5f">=<span class="_ _c"> </span><span class="ff5c ls14">27<span class="_ _d"> </span></span>−<span class="_ _6"> </span><span class="ff5c">8<span class="_ _4"> </span></span>=<span class="_ _c"> </span><span class="ff5c ls14">19.</span></span></div><div class="t m0 xac h8 y123d ff21 fs4 fc2 sc0 lsc ws2">Higher<span class="_ _6"> </span>Dimensions<span class="_ _4"> </span><span class="ff5c lsd">It<span class="_ _4"> </span>is<span class="_ _6"> </span>also<span class="_ _4"> </span>possible<span class="_ _4"> </span>to<span class="_ _6"> </span>generalize<span class="_ _4"> </span>this<span class="_ _4"> </span>idea<span class="_ _4"> </span>to<span class="_ _6"> </span>higher<span class="_ _4"> </span>dimensions.</span></div><div class="t m0 xac h15 y123e ff5c fs4 fc2 sc0 lse ws2">For<span class="_ _6"> </span>example,<span class="_ _6"> </span>Fig.<span class="_ _20"> </span><span class="fc3 lsd">9.3<span class="_ _4"> </span></span><span class="lsc">sho<span class="_ _0"></span>ws<span class="_ _6"> </span>a<span class="_ _4"> </span>two-dimensional<span class="_ _6"> </span>preﬁx<span class="_ _6"> </span>sum<span class="_ _4"> </span>array<span class="_ _6"> </span>that<span class="_ _4"> </span>can<span class="_ _6"> </span>be<span class="_ _4"> </span>used<span class="_ _6"> </span>to</span></div><div class="t m0 xac h15 y123f ff5c fs4 fc2 sc0 lsc ws2">calculate<span class="_ _4"> </span>the<span class="_ _4"> </span>sum<span class="_ _4"> </span>of<span class="_ _c"> </span>an<span class="_ _0"></span>y<span class="_ _4"> </span>rectangular<span class="_ _4"> </span>subarray<span class="_ _c"> </span>in<span class="_ _c"> </span><span class="ff5d ls6">O<span class="_ _36"></span><span class="ff56">(<span class="ff5c">1</span>)<span class="_ _4"> </span></span></span><span class="lsd">time.<span class="_ _4"> </span>Each<span class="_ _4"> </span>sum<span class="_ _4"> </span>in<span class="_ _4"> </span>this<span class="_ _c"> </span>array</span></div><div class="t m0 xac h15 y1240 ff5c fs4 fc2 sc0 lsc ws2">corresponds<span class="_ _4"> </span>to<span class="_ _4"> </span>a<span class="_ _4"> </span>subarray<span class="_ _4"> </span>that<span class="_ _c"> </span>be<span class="_ _0"></span>gins<span class="_ _4"> </span>at<span class="_ _4"> </span>the<span class="_ _4"> </span>upper-left<span class="_ _4"> </span>corner<span class="_ _4"> </span>of<span class="_ _4"> </span>the<span class="_ _4"> </span>array<span class="_ _0"></span>.<span class="_ _6"> </span>The<span class="_ _c"> </span>sum</div><div class="t m0 xac h15 y1241 ff5c fs4 fc2 sc0 lsc ws2">of<span class="_ _6"> </span>the<span class="_ _4"> </span>gray<span class="_ _6"> </span>subarray<span class="_ _4"> </span>can<span class="_ _4"> </span>be<span class="_ _6"> </span>calculated<span class="_ _4"> </span>using<span class="_ _6"> </span>the<span class="_ _4"> </span>formula</div><div class="t m0 xe2 h2a y1242 ff5d fs4 fc2 sc0 ls6 ws2">S<span class="_ _5"></span><span class="ff56">(<span class="_ _36"> </span></span>A<span class="_ _5"></span><span class="ff56">)<span class="_ _6"> </span><span class="ff5f">−<span class="_ _4"> </span></span></span>S<span class="_ _5"></span><span class="ff56">(<span class="_ _36"></span></span>B<span class="_ _2a"></span><span class="ff56">)<span class="_ _d"> </span><span class="ff5f">−<span class="_ _c"> </span></span></span>S<span class="_ _5"></span><span class="ff56">(</span>C<span class="_ _36"></span><span class="ff56">)<span class="_ _d"> </span><span class="ff5f">+<span class="_ _4"> </span></span></span>S<span class="_ _2a"></span><span class="ff56">(<span class="_ _36"></span></span>D<span class="_ _5"></span><span class="ff56 ls17">),</span></div><div class="t m0 xac h15 y1243 ff5c fs4 fc2 sc0 lsc ws2">where<span class="_ _c"> </span><span class="ff5d ls6">S<span class="_ _5"></span><span class="ff56">(<span class="_ _2a"></span></span>X<span class="_ _36"> </span><span class="ff56">)<span class="_ _4"> </span></span></span>denotes<span class="_ _6"> </span>the<span class="_ _6"> </span>s<span class="_"> </span>um<span class="_ _4"> </span>of<span class="_ _6"> </span>values<span class="_ _6"> </span>in<span class="_ _6"> </span>a<span class="_ _6"> </span>rectangular<span class="_ _4"> </span>subarray<span class="_ _6"> </span>from<span class="_ _6"> </span>the<span class="_ _4"> </span>upper-left</div><div class="t m0 xac h15 y1244 ff5c fs4 fc2 sc0 lsd ws2">corner<span class="_ _6"> </span>to<span class="_ _4"> </span>the<span class="_ _6"> </span>position<span class="_ _4"> </span>of<span class="_ _3"> </span><span class="ff5d ls6">X<span class="_ _36"></span><span class="ff5c">.</span></span></div><div class="t m0 xac h12 y1245 ff54 fsc fc4 sc0 ls2f ws2">Fig.<span class="_ _2d"> </span>9.<span class="_ _5"></span>1<span class="_ _f"> </span><span class="ff5c fc2 ls10">An<span class="_ _d"> </span>array<span class="_ _d"> </span>and<span class="_ _6"> </span>its</span></div><div class="t m0 xac h18 y1246 ff5c fsc fc2 sc0 ls11 ws2">preﬁx<span class="_ _d"> </span>sum<span class="_ _6"> </span>array</div><div class="t m0 xb4 h27 y1247 ff60 fs13 fc2 sc0 ls6 ws2">1</div><div class="t m0 x3e h27 y1248 ff60 fs13 fc2 sc0 ls6 ws2">3</div><div class="t m0 x104 h27 y1247 ff60 fs13 fc2 sc0 ls6 ws2">4</div><div class="t m0 x105 h27 y1248 ff60 fs13 fc2 sc0 ls6 ws2">8</div><div class="t m0 x12d h27 y1249 ff60 fs13 fc2 sc0 ls6 ws2">6</div><div class="t m0 x106 h27 y1247 ff60 fs13 fc2 sc0 ls59 ws2">142</div><div class="t m0 xb4 h27 y124a ff60 fs13 fc2 sc0 ls6 ws2">0</div><div class="t m0 x3e h27 y124b ff60 fs13 fc2 sc0 ls54 ws2">12</div><div class="t m0 x105 h27 y124a ff60 fs13 fc2 sc0 ls6 ws2">3</div><div class="t m0 x12d h27 y124b ff60 fs13 fc2 sc0 ls6 ws2">4</div><div class="t m0 x106 h27 y124c ff60 fs13 fc2 sc0 ls59 ws2">56</div><div class="t m0 x108 h27 y124d ff60 fs13 fc2 sc0 ls6 ws2">7</div><div class="t m0 x55 h27 y124e ff60 fs13 fc2 sc0 ls6 ws2">original<span class="_ _d"> </span>array</div><div class="t m0 xb4 h27 yb5 ff60 fs13 fc2 sc0 ls59 ws2">14</div><div class="t m0 x104 h27 y124f ff60 fs13 fc2 sc0 ls6 ws2">8</div><div class="t m0 xe8 h27 y1250 ff60 fs13 fc2 sc0 ls6 ws2">16</div><div class="t m0 x44 h27 yb5 ff60 fs13 fc2 sc0 ls6 ws2">22</div><div class="t m0 x143 h27 y124f ff60 fs13 fc2 sc0 ls6 ws2">23</div><div class="t m0 x136 h27 y1251 ff60 fs13 fc2 sc0 ls6 ws2">27</div><div class="t m0 x115 h27 y1252 ff60 fs13 fc2 sc0 ls6 ws2">29</div><div class="t m0 xb4 h27 y1253 ff60 fs13 fc2 sc0 ls6 ws2">0</div><div class="t m0 x3e h27 y1254 ff60 fs13 fc2 sc0 ls54 ws2">12</div><div class="t m0 x105 h27 y1253 ff60 fs13 fc2 sc0 ls6 ws2">3</div><div class="t m0 x12d h27 y1254 ff60 fs13 fc2 sc0 ls6 ws2">4</div><div class="t m0 x106 h27 y1255 ff60 fs13 fc2 sc0 ls59 ws2">56</div><div class="t m0 x108 h27 y1256 ff60 fs13 fc2 sc0 ls6 ws2">7</div><div class="t m0 x4f h27 y1257 ff60 fs13 fc2 sc0 ls6 ws2">pre<span class="ff61">ﬁ</span>x<span class="_ _d"> </span>sum<span class="_ _6"> </span>array</div><div class="t m0 xac h12 y1258 ff54 fsc fc4 sc0 ls2f ws2">Fig.<span class="_ _2d"> </span>9.<span class="_ _5"></span>2<span class="_ _f"> </span><span class="ff5c fc2 ls6">Calculating<span class="_ _d"> </span>a<span class="_ _d"> </span>range</span></div><div class="t m0 xac h18 y1259 ff5c fsc fc2 sc0 ls11 ws2">sum<span class="_ _d"> </span>using<span class="_ _6"> </span>the<span class="_ _d"> </span>preﬁx<span class="_ _d"> </span>sum</div><div class="t m0 xac h18 y125a ff5c fsc fc2 sc0 ls10 ws2">array</div><div class="t m0 xb4 h27 y125b ff60 fs13 fc2 sc0 ls6 ws2">1</div><div class="t m0 x3e h27 y125c ff60 fs13 fc2 sc0 ls6 ws2">3</div><div class="t m0 x104 h27 y125b ff60 fs13 fc2 sc0 ls6 ws2">4</div><div class="t m0 x105 h27 y125c ff60 fs13 fc2 sc0 ls6 ws2">8</div><div class="t m0 x12d h27 y125d ff60 fs13 fc2 sc0 ls6 ws2">6</div><div class="t m0 x106 h27 y125b ff60 fs13 fc2 sc0 ls59 ws2">142</div><div class="t m0 xb4 h27 y125e ff60 fs13 fc2 sc0 ls6 ws2">0</div><div class="t m0 x3e h27 y125f ff60 fs13 fc2 sc0 ls54 ws2">12</div><div class="t m0 x105 h27 y125e ff60 fs13 fc2 sc0 ls6 ws2">3</div><div class="t m0 x12d h27 y125f ff60 fs13 fc2 sc0 ls6 ws2">4</div><div class="t m0 x106 h27 y1260 ff60 fs13 fc2 sc0 ls59 ws2">56</div><div class="t m0 x108 h27 y1261 ff60 fs13 fc2 sc0 ls6 ws2">7</div><div class="t m0 x55 h27 y1262 ff60 fs13 fc2 sc0 ls6 ws2">original<span class="_ _d"> </span>array</div><div class="t m0 xb4 h27 y1263 ff60 fs13 fc2 sc0 ls59 ws2">14</div><div class="t m0 x104 h27 y1264 ff60 fs13 fc2 sc0 ls6 ws2">8</div><div class="t m0 xe8 h27 y1265 ff60 fs13 fc2 sc0 ls6 ws2">16</div><div class="t m0 x44 h27 y1263 ff60 fs13 fc2 sc0 ls6 ws2">22</div><div class="t m0 x143 h27 y1264 ff60 fs13 fc2 sc0 ls6 ws2">23</div><div class="t m0 x136 h27 y1266 ff60 fs13 fc2 sc0 ls6 ws2">27</div><div class="t m0 x115 h27 y1267 ff60 fs13 fc2 sc0 ls6 ws2">29</div><div class="t m0 xb4 h27 y1268 ff60 fs13 fc2 sc0 ls6 ws2">0</div><div class="t m0 x3e h27 y1269 ff60 fs13 fc2 sc0 ls54 ws2">12</div><div class="t m0 x105 h27 y126a ff60 fs13 fc2 sc0 ls6 ws2">3</div><div class="t m0 x12d h27 y1269 ff60 fs13 fc2 sc0 ls6 ws2">4</div><div class="t m0 x106 h27 y126b ff60 fs13 fc2 sc0 ls59 ws2">56</div><div class="t m0 x108 h27 y126c ff60 fs13 fc2 sc0 ls6 ws2">7</div><div class="t m0 x4f h27 y126d ff60 fs13 fc2 sc0 ls6 ws2">pre<span class="ff61">ﬁ</span>x<span class="_ _d"> </span>sum<span class="_ _6"> </span>array</div><a class="l" href="#pf8a" data-dest-detail='[138,"XYZ",84,251,null]'><div class="d m1" style="border-style:none;position:absolute;left:158.531173px;bottom:1196.398943px;width:14.439000px;height:8.589000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8a" data-dest-detail='[138,"XYZ",84,176,null]'><div class="d m1" style="border-style:none;position:absolute;left:335.101770px;bottom:987.791639px;width:14.439000px;height:8.589000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8b" data-dest-detail='[139,"XYZ",84,609,null]'><div class="d m1" style="border-style:none;position:absolute;left:282.990912px;bottom:838.136791px;width:14.439000px;height:8.589000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[2.275981,0.000000,0.000000,2.275981,0.000000,0.000000]}'></div></div>
